<div class="container">
    <h2>User Profile</h2>
    @if (userDetails) {
      <div>
        <p><strong>Name:</strong> {{ userDetails.name }}</p>
        <p><strong>Email:</strong> {{ userDetails.email }}</p>
      </div>
    }
    @if (error) {
      <div class="error">{{ error }}</div>
    }
  </div>
  
  <div class="container">
    <h2>Simulate Login</h2>
    <select [(ngModel)]="selectedUserId" (ngModelChange)="login()">
      @for (user of users; track user.id) {
        <option [value]="user.id">
          {{ user.name }}
        </option>
      }
    </select>
  </div>
  
  <div class="container">
    <h2>Attempt to Access Other Profiles</h2>
    <select [(ngModel)]="attemptedUserId" (ngModelChange)="changeProfile()">
      @for (user of users; track user.id) {
        <option [value]="user.id">
          {{ user.id }} ({{ user.name }})
        </option>
      }
    </select>
    <p class="small-text">This dropdown simulates attempting to access other users' profiles. With IDOR mitigation, you can only view your own profile.</p>
  </div>